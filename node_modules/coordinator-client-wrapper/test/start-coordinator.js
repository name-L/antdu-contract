/*!
 * Copyright (c) 2010-2016 EEFUNG Software Co.Ltd. All rights reserved.
 * 版权所有 (c) 2010-2016 湖南蚁坊软件有限公司。保留所有权利。
 */

"use strict";

/**
 *
 * Created by wuyaoqian on 16/9/7.
 */

require("log4js-config").init(function () {
    return require("./config/app-logging.js");
});

const Coordinator = require('../index.js');
const instance = new Coordinator({
    host: '172.19.103.39',
    port: 8080,
    backOff: {
        maxAttempts: 10
    }
});

const fetch = function (aid) {
    instance.getServerByAppId(aid).then((url) => {
        console.log("aid:%s, url: %s", aid, url);
    }).catch((error) => {
        console.log('aid:%s, error: ', aid, error);
    });
};

setInterval(fetch.bind(this, "PUSHSERVICE.EAGEYE"), 3000);
// setInterval(fetch.bind(this, "ANTFACT-GATEWAY"), 5000);