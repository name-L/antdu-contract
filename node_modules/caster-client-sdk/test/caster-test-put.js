/*!
 * Copyright (c) 2010-2015 EEFUNG Software Co.Ltd. All rights reserved.
 * 版权所有 (c) 2010-2015 湖南蚁坊软件有限公司。保留所有权利。
 */

"use strict";

/**
 *
 * Created by wuyaoqian on 16/3/29.
 */

// 只初始化一次全局日志配置信息（主要是将原来的json变成js -- 方便写注释）
require("log4js-config").init(function () {
    return require("./config/app-logging.js");
});

var CasterClient = require('../index');
var mapManage = CasterClient.mapManage;

// var promise = mapManage.getInstance('test-map', 1000 * 60 * 0.5);
//var promise = mapManage.getInstance('civiw-ic-session', 1000 * 60 * 5);
// var promise = mapManage.getInstance('www-civiw-ic-session', 1000 * 60 * 5);
var promise = mapManage.getInstance('local-eageye-session', 1000 * 60 * 5);

promise.then(function (instance) {
    var key1 = 'xxx-xxx-xxx', val1 = '111111111';
    var key2 = 'yyy-yyy-yyy', val2 = '222222222';
    var key3 = 'zzz-zzz-zzz', val3 = '333333333';
    instance.put(key1, val1, function (error) {
        console.log(error);
    });
    instance.put(key2, val2, function (error) {
        console.log(error);
    }, 1000 * 10);
    instance.put(key3, val3, function (error) {
        console.log(error);
    }, 1000 * 60);
    // instance.put([key2, key3], [val2, val3], function (error) {
    //     console.log(error);
    // });
});